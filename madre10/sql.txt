CREATE DATABASE IF NOT EXISTS internet_technology;
USE internet_technology;

DROP TABLE IF EXISTS images;
DROP TABLE IF EXISTS users;
DROP TABLE IF EXISTS comments;

CREATE TABLE users (
  id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
  username VARCHAR(250) NOT NULL,
  password VARCHAR(250) NOT NULL,
  firstname VARCHAR(250),
  lastname VARCHAR(250),
  zip VARCHAR(250),
  city VARCHAR(250),
  email VARCHAR(250) NOT NULL DEFAULT '',
  phone VARCHAR(250)
);

CREATE TABLE images (
  id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
  owner INT,
  file_name VARCHAR(250),
  uploaded_on datetime NOT NULL,
  title VARCHAR(250),
  description VARCHAR(250),
  FOREIGN KEY (owner) REFERENCES users(id)
);

CREATE TABLE comments (
  id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
  userId INT,
  content VARCHAR(1000),
  created_on datetime,
  FOREIGN KEY (userId) REFERENCES users(id)
);


INSERT INTO users(username, password, firstname, lastname, zip, city, email, phone) VALUES
('phoellen','password', 'Martin', 'Dreymann', '5000', 'Odense', 'phoellen@gmail.com', '60641990');
